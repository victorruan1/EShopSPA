<div class="container mt-4">
  <h2>Add New Product</h2>
  <form [formGroup]="form" (ngSubmit)="submit()" class="mt-3">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Product name</label>
        <input class="form-control" formControlName="name" />
        <div class="text-danger small" *ngIf="form.controls.name.touched && form.controls.name.invalid">
          <div *ngIf="form.controls.name.errors?.['required']">Name is required.</div>
        </div>
      </div>
      <div class="col-md-6">
        <label class="form-label">Price</label>
        <input type="number" class="form-control" formControlName="price" />
        <div class="text-danger small" *ngIf="form.controls.price.touched && form.controls.price.invalid">
          <div *ngIf="form.controls.price.errors?.['required']">Price is required.</div>
          <div *ngIf="form.controls.price.errors?.['min']">Must be greater than 0.</div>
        </div>
      </div>
      <div class="col-12">
        <label class="form-label">Description</label>
        <textarea rows="3" class="form-control" formControlName="description"></textarea>
        <div class="text-danger small" *ngIf="form.controls.description.touched && form.controls.description.invalid">
          <div *ngIf="form.controls.description.errors?.['required']">Description is required.</div>
        </div>
      </div>
      <div class="col-md-6">
        <label class="form-label">Category</label>
        <select class="form-select" formControlName="category">
          <option [ngValue]="null">-- Select --</option>
          <option *ngFor="let c of categories" [value]="c">{{ c }}</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Sub Category</label>
        <select class="form-select" formControlName="subCategory">
          <option [ngValue]="null">-- Select --</option>
          <option *ngFor="let s of subCategories" [value]="s">{{ s }}</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Category Variation</label>
        <select class="form-select" formControlName="variation">
          <option [ngValue]="null">-- Select --</option>
          <option *ngFor="let v of variations" [value]="v">{{ v }}</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Variation Value</label>
        <select class="form-select" formControlName="variationValue">
          <option [ngValue]="null">-- Select --</option>
          <option *ngFor="let vv of variationValues" [value]="vv">{{ vv }}</option>
        </select>
      </div>
      <div class="col-md-8">
        <label class="form-label">Product image URL</label>
        <input class="form-control" formControlName="imageUrl" />
        <div class="text-danger small" *ngIf="form.controls.imageUrl.touched && form.controls.imageUrl.invalid">
          <div *ngIf="form.controls.imageUrl.errors?.['required']">Image URL is required.</div>
          <div *ngIf="form.controls.imageUrl.errors?.['pattern']">Must start with http or https.</div>
        </div>
      </div>
      <div class="col-md-4">
        <label class="form-label">Active</label>
        <select class="form-select" formControlName="active">
          <option [ngValue]="true">Active</option>
          <option [ngValue]="false">Inactive</option>
        </select>
      </div>
    </div>

    <div class="mt-4">
      <button class="btn btn-primary" type="submit" [disabled]="form.invalid">Add product</button>
    </div>
  </form>
</div>
